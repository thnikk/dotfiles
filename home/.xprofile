#!/usr/bin/env sh

# Map caps lock to esc
xmodmap -e "clear lock" &
xmodmap -e "keysym Caps_Lock = Escape" &

# Restore monitor layout
if [ "$HOST" = "thnikk-desktop" ]; then
    ~/.screenlayout/dual.sh &
    feh --bg-fill .config/wall.png .config/wall2.png &
    ~/.local/bin/fixAudio &
else
    xinput disable "Synaptics TM3075-002" & # Disable trackpad
    feh --bg-fill .config/wall.png &
fi

# Start programs with session
ibus-daemon -drx &
/usr/lib/mate-polkit/polkit-mate-authentication-agent-1 &
/usr/lib/kdeconnectd &
udiskie &
dunst &
xsetroot -cursor_name left_ptr &
xset r rate 300 50 &	# Speed xrate up
unclutter &
sh -c "$COMPOSITOR" &
mpd & # MPD preferred here over service to avoid network hangs
